import React from 'react'
import {connect} from 'react-redux'
import { Link } from 'react-router-dom'
import {withRouter} from 'react-router'


import {getCategories, getActiveCategoriesId} from 'reducers/selectors'
import s from './categories.module.css'
import { compose } from 'redux'


const Categories = ({categories,activeCategoryId}) => {
    console.log(activeCategoryId)
  const  renderCategory = (category,index) => {
        return (
            <Link 
                to={`/categories/${category.id}`}
                key={index}
                className={s.link}
            >
                {category.name}
            </Link>
        )
    }
    return (
        <div className={s.container}>
            <h4 className={s.brand}>Models</h4>
            <div className={s.info}>
                {<Link to ='/' className={s.all} >All</Link>}
            {categories.map((category,index)=> renderCategory(category,index))}
            </div>
        </div>
    )
}

const mapStateToProps = (state,ownProps) => {
    return {
        categories: getCategories(state),
        activeCategoryId: getActiveCategoriesId(ownProps)
    }
}


export default compose(
    withRouter,
    connect(mapStateToProps,null)
)(Categories)